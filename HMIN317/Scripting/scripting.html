<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>HMIN317 Moteur de Jeux - √âtude Documentaire</title>
        <style>
</style>
        
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        
        
        
    </head>
    <body class="vscode-light">
        <h1 id="hmin317-moteur-de-jeux---√©tude-documentaire">HMIN317 Moteur de Jeux - √âtude Documentaire</h1>
<h1 id="bytecode-et-scripting--pattern-impl√©mentations-et-solutions">Bytecode et Scripting : Pattern, impl√©mentations et solutions</h1>
<h2 id="gameplay--comportement">Gameplay &amp; Comportement</h2>
<p>Lors du d√©veloppement d'un jeu, nous avons besoin d'y int√©grer des √©l√©ments narratifs, de gameplay.
Un jeu est analogue √† un film ou une sc√®ne de th√©√¢tre, on poss√®de une sc√®ne, des acteurs, et ceux si int√©ragissent pour former l'environnement dans lequel est plong√© le joueur.</p>
<p>Une partie du d√©veloppement y est donc consacr√©e, on pense souvent au Gameplay Programming, mais c'est un peu plus large que cela.
On va parler plus g√©n√©ralement de Behavioral Programming.</p>
<p><a href="http://www.wisdom.weizmann.ac.il/~bprogram/more.html">Behavioral Programming üîó</a></p>
<p>Dans un jeu, il existe une √©norme quantit√© d'acteurs : items, qu√™tes, monstres, PNJs, <em>Portes</em>...
Nous faison face √† deux probl√®mes majeurs ici:</p>
<h4 id="rapidit√©-et-facilit√©-de-d√©veloppement">Rapidit√© et Facilit√© de D√©veloppement</h4>
<blockquote>
<p>Au vu de la quantit√© √©norme de comportements √† d√©velopper, il est imp√©ratif d'√™tre rapide √† d√©velopper ceux ci.<br>
Les codebases de jeux sont aussi tr√®s complexes et tr√®s volumineuses, il est donc n√©cessaire de trouver un moyen de simplifier le d√©veloppement.</p>
</blockquote>
<h4 id="maintenabilit√©">Maintenabilit√©</h4>
<blockquote>
<p>Qui parle d'un tr√®s grand nombre de comportements √† produire, parle aussi de maintenabilit√© du code.
Les interactions entre comportements peuvent tr√®s vite d√©g√©n√©r√©es, une bonne gestion des ressources doit imp√©rativement √™tre faite.</p>
</blockquote>
<p>Cependant, le d√©veloppement de tels comportements, pour la majorit√©, n'est que tr√®s peu demandant en ressources, et on peut tr√®s facilement r√©duire la pr√©cision de ceux-cis.<br>
Nous avons donc les crit√®res suivants :</p>
<ul>
<li>Besoin d'un d√©veloppement rapide</li>
<li>Besoin d'une certaine s√ªret√©</li>
<li>Non besoin de puissance de calcul tr√®s √©lev√©e</li>
</ul>
<p>Pour r√©pondre √† ces crit√®res, il existe plusieurs solutions, nous allons ici nous int√©resser au paradigme du <strong>Scripting</strong>, et au pattern <strong>Bytecode</strong>.</p>
<p><em>Note : ces crit√®res diff√®rent selon les besoins, c'est pour cela qu'il n'existe pas de solution universelle au scripting, nous allons voir √ßa par la suite</em></p>
<h2 id="scripting">Scripting</h2>
<h4 id="d√©finition">D√©finition</h4>
<blockquote>
<p>En informatique, un script d√©signe un programme (ou un bout de programme) charg√© d'ex√©cuter une action pr√©-d√©finie quand un utilisateur r√©alise une action. Il s'agit d'une suite de commandes simples et souvent peu structur√©es qui permettent l'automatisation de certaines t√¢ches successives dans un ordre donn√©.</p>
</blockquote>
<p><em>Source : <a href="https://www.journaldunet.fr/web-tech/dictionnaire-du-webmastering/1203599-script-definition/">Journal du net üîó</a></em></p>
<p>Dans le cadre des jeux, l'id√©e est de penser un script comme un <strong>Asset</strong>, au m√™me titre qu'un mod√®le 3D, une texture ou un son.</p>
<p>Ce paradigme nous permet d'avoir une bonne maintenabilit√©, les scripts √©tant des composants ind√©pendants pouvant √™tre ajotu√© ou enlev√© √† la vol√©e.</p>
<h3 id="langages-de-scripting">Langages de Scripting</h3>
<p>Plusieurs langages de scripting existent, comme le <em>Bash</em>, le <em>Ruby</em>, ou le <em>Javascript</em>.</p>
<h2 id="interpretation-et-compilation">Interpretation et Compilation</h2>
<p>Il existe plusieurs mani√®res d'impl√©menter le paradigme du scripting.</p>
<p><strong>Interpretation</strong> M√©thode simple √† mettre en place, mais co√ªteuse.<br>
<strong>Compilation</strong> Apporte de bonnes performances, mais est tr√®s  difficile √† mettre en place et r√©duit la productivit√©.</p>
<p>De nos jours, il n'existe que tr√®s peu de langages directement interpret√©s dans les jeux, car le co√ªt en performance est tr√®s important.<br>
Souvent, ce sont des langages custom, comme par exemple pour un syst√®me de dialogue.</p>
<p>La compilation peut se pr√©senter sous plusieurs formes :<br>
<strong>Compilation Classique (Statique ou Dynamique)</strong> Le code est compil√© en amont<br>
<strong>Compilation Just-in-time (JIT)</strong> Le code est compil√© en temps r√©el.</p>
<p>Le <em>JavaScript</em> par exemple, est compil√© en temps r√©el si on utilise le moteur <em>V8</em> de <em>Google</em>.</p>
<h2 id="bytecode">Bytecode</h2>
<p>L'interpretation et la compilations poss√®dent tous deux avantages et inconv√©nients.<br>
L'interpretation est tr√®s lente l√† o√π la compilation est moins portable, plus complexe et plus lourde √† mettre en place.</p>
<p>Pour obtenir le meilleur des deux mondes, il existe un Pattern : le <strong>Bytecode</strong>.</p>
<p>Le principe est de d√©finir un jeu d'instructions, compiler un programme pour ce jeu d'instruction et l'interpr√™ter.
Le programme compil√© est appel√© <em>bytecode</em>.</p>
<p>Ainsi, toutes les instructions sont simples, r√©duisant l'overhead de l'interpretation pour un tr√®s bon gain de performance, et nous obtenons la modularit√© n√©cessaire, ce qui permet par exemple de faire du <em>Live Scripting</em>.</p>
<h4 id="avantages-du-bytecode">Avantages du bytecode</h4>
<ul>
<li><em>Dense et contig√º.</em> Optimisation de la m√©moire</li>
<li><em>Lin√©aire.</em> Utilisation de la stack possible, on √©vite au maximum les memory jumps.</li>
<li><em>Rapide</em>. Tr√®s peu d'overhead, les instructions sont tr√®s simples.</li>
</ul>
<h4 id="d√©savantages">D√©savantages</h4>
<ul>
<li>N√©cessite √©norm√©ment d'outils (Debugger, Linter, Profiler etc...)</li>
</ul>
<h2 id="quelques-solutions-existantes">Quelques solutions existantes</h2>
<h3 id="lua">LUA</h3>
<p><strong>Langage</strong> Lua<br>
<strong>Lien</strong>  <a href="https://www.lua.org/">lua üîó</a></p>
<p>Tr√®s utilis√© dans l'indsutrie, solution tr√®s facile √† mettre en place avec beaucoup d'outils existants.</p>
<h3 id="mono">Mono</h3>
<p><strong>Langages</strong> C#, F#, Java, Python, Javascript etc...<br>
<strong>Lien</strong> <a href="https://www.mono-project.com/">mono-project üîó</a></p>
<p>Utilis√© par Unity utilisant le C#, tr√®s puissant, mais difficile √† mettre en place et n√©cessite une license pour embarquer mono.</p>
<h3 id="v8-javascript">V8 Javascript</h3>
<p><strong>Langage</strong> Javascript<br>
<strong>Lien</strong> <a href="https://v8.dev/">v8 üîó</a></p>
<p>Tr√®s puissant, propose de la compilation JIT, mais poss√®de une grosse codebase, et pas tr√®s bien document√© pour les n√©ophytes.</p>

    </body>
    </html>